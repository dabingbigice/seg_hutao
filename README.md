# ğŸŒ° AIæ ¸æ¡ƒä»æ™ºèƒ½åˆ†é€‰ç³»ç»Ÿ

[![GitHub Stars](https://img.shields.io/github/stars/dabingbigice/kust-seg-hutao?style=flat-square)](https://github.com/dabingbigice/kust-seg-hutao)
[![Python 3.8](https://img.shields.io/badge/Python-3.8-blue.svg)](https://www.python.org/)
[![PyTorch 2.3](https://img.shields.io/badge/PyTorch-2.3-red.svg)](https://pytorch.org/)

> ### **åŸºäºæ·±åº¦å­¦ä¹ çš„æ ¸æ¡ƒä»åŠ¨æ€åˆ†é€‰ç³»ç»Ÿ | æ˜†æ˜ç†å·¥å¤§å­¦ç°ä»£å†œä¸šå·¥ç¨‹å­¦é™¢**
>
> ![](p3.jpg)

## ğŸ“– é¡¹ç›®æ¦‚è¿°

é’ˆå¯¹äº‘å—æ ¸æ¡ƒäº§ä¸šäººå·¥åˆ†é€‰æ•ˆç‡ä½ã€æˆæœ¬é«˜çš„ç—›ç‚¹ï¼Œæœ¬ç³»ç»Ÿåˆ›æ–°æ€§é›†æˆï¼š

- ğŸ–¥ï¸ â€‹**æ”¹è¿›DeepLabv3+æ¨¡å‹**â€‹ï¼ˆ22.4Må‚æ•°é‡ï¼‰
- ğŸ­ â€‹**å·¥ä¸šçº§åŠ¨æ€åˆ†é€‰æ¶æ„**â€‹ï¼ˆ0.5m/sä¼ é€å¸¦é€Ÿåº¦ï¼‰
- ğŸ’¨ â€‹**æ°”åŠ¨æŸ”æ€§åˆ†é€‰æŠ€æœ¯**â€‹ï¼ˆ0.4-0.6kPaæ— æŸå–·å°„ï¼‰

## ğŸ¤–ç³»ç»Ÿå®ç‰©å›¾
![](p1.jpg)
## ç°åœºä½œä¸šå›¾
![](p2.jpg)
## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

| æ¨¡å—         | æŠ€æœ¯æŒ‡æ ‡        | åˆ›æ–°ç‚¹                |
| ------------ | --------------- | --------------------- |
| **è§†è§‰ç³»ç»Ÿ**â€‹ | 25ms/å¸§å¤„ç†é€Ÿåº¦ | MobileNetV2è½»é‡åŒ–æ”¹é€  |
| **åˆ†é€‰ç³»ç»Ÿ**â€‹ | 91.42%å‡†ç¡®ç‡    | åŒæ‘„åƒå¤´ååŒå†³ç­–      |
| **æ§åˆ¶ç³»ç»Ÿ**â€‹ | â‰¤10mså“åº”å»¶è¿Ÿ   | STM32F103ç²¾å‡†æ—¶åºæ§åˆ¶ |

## ğŸ› ï¸ æŠ€æœ¯äº®ç‚¹

### ğŸŒŸ ä¸‰é‡æŠ€æœ¯é©æ–°

```python
# ç¤ºä¾‹ä»£ç ç‰‡æ®µ
 def update_frame(self):
        """å¼ºåˆ¶ç¼©æ”¾ç”»é¢åˆ°512x512åƒç´ """
        frame0 = shared_photo_frame_0.get(timeout=5)
        ret0 = shared_photo_ret_0.get(timeout=5)
        self.window_detect(ret0, frame0, 7, self.label, 'rxd1')
        t2 = time.time()
        print(f'cap0æ‘„åƒå¤´å¤„ç†å›¾ç‰‡æ—¶é—´:{(t2 - t1) * 1000}ms')
        print(f'-----------------------------------------------------------------------')

        t3 = time.time()
        frame1 = shared_photo_frame_1.get(timeout=5)
        ret1 = shared_photo_ret_1.get(timeout=5)
        self.window_detect(ret1, frame1, 4, self.child_winodw.labelchild, 'rxd2')
        t4 = time.time()
        print(f'cap1æ‘„åƒå¤´å¤„ç†å›¾ç‰‡æ—¶é—´:{(t4 - t3) * 1000}ms')
        print(f'-----------------------------------------------------------------------')

```


### ğŸ“Š æ€§èƒ½è¡¨ç°

- **åŠ¨æ€åˆ†é€‰å‡†ç¡®ç‡**: 91.42% âœ…
- **æ¼æ£€ç‡**: <2.7% âš¡
- **å¤„ç†é€Ÿåº¦**: 40FPS ğŸš€
- **åˆ†é€‰æ•ˆç‡**: 100g/minï¼ˆâ‰ˆ2äººå·¥ä½œé‡ï¼‰ğŸ‘¥

### ğŸ¨ç¡¬ä»¶é…ç½®

| ç»„ä»¶         | å‹å·      | å…³é”®å‚æ•°        |
| ------------ | --------- | --------------- |
| **å·¥ä¸šç›¸æœº**â€‹ | LT-USB5MP | 500ä¸‡åƒç´ /30FPS |
| **ä¸»æ§èŠ¯ç‰‡**â€‹ | STM32F103 | 72MHz Cortex-M3 |
| **ç©ºå‹æœº**â€‹   | OTS-800   | 0.7Mpaè¾“å‡ºå‹åŠ›  |

### ğŸŒ åº”ç”¨å‰æ™¯

- çŸ­æœŸ: æŠ•å…¥èµ„é‡‘æå‡ç°æœ‰äº§å“æ•ˆç‡æ›¿ä»£äº‘å—æ ¸æ¡ƒä¸»äº§åŒºäººå·¥åˆ†é€‰
- ä¸­æœŸ: æ‰©å±•è‡³å·´æ—¦æœ¨/ä¸­è¯æåˆ†é€‰

### ğŸ“¦ å®‰è£…éƒ¨ç½²

#### ç¡¬ä»¶æ­å»º

- ğŸ”© ç»„è£…èºæ—‹é€æ–™å™¨ä¸PUä¼ é€å¸¦
- ğŸ“¸ å®‰è£…å·¥ä¸šç›¸æœºï¼ˆå‚ç›´é«˜åº¦30cmï¼‰
- âš¡ è¿æ¥STM32æ§åˆ¶å™¨ä¸æ°”åŠ¨é˜€é—¨
- â¡ï¸ è§†é¢‘æ¼”ç¤º  https://pan.baidu.com/s/1_AC_rG8YYO8vLc5EAFuEQg?pwd=feei æå–ç : feei 

### è½¯ä»¶
- **æ“ä½œç³»ç»Ÿ**â€‹ï¼šWindows 11
- **ç¼–ç¨‹è¯­è¨€**â€‹ï¼šPython 3.8
- **æ¡†æ¶**â€‹ï¼šPyTorch 2.3.1ï¼ŒCUDA 11.8
- **æ¨¡å‹**â€‹ï¼šä¼˜åŒ–çš„ DeepLabv3+ï¼Œä½¿ç”¨ MobileNetV2 è§£ç å™¨
- **åº“**â€‹ï¼šOpenCVï¼ŒPyQt ç”¨äºå›¾å½¢ç•Œé¢

### è½¯ä»¶è®¾ç½®
```bash
# å…‹éš†ä»“åº“
git clone -b master https://github.com/dabingbigice/kust-seg-hutao.git
cd kust-seg-hutao

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
# (requirements.txt éœ€åŒ…å« PyTorchã€CUDAã€OpenCVã€PyQt ç­‰)

# è¿è¡Œåº”ç”¨ç¨‹åº
python gui/index.py
```